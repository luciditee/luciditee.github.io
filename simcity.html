<!doctype html>

<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>Reverse engineering the SC3K graphical format - Will Preston</title>
		<meta name="description" content="Reverse engineering the SC3K graphical format">
		<meta name="author" content="Will Preston">

		<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/base-min.css">
		<style type="text/css">
		body {
			width: 67%;
			margin: auto;
		}
		</style>
	</head>

	<body>
		<h1>Musings of an airheaded developer</h1>
		<p><a href="index.html">Return home</a></p>
		<h2>Reverse engineering the SC3K graphical format</h2>
		<p>In this space, I will post updates to my efforts to reverse engineering the SimCity 3000 graphical file format, since it does not appear to be openly documented anywhere.  Posts are in descending order, from most to least recent.</p>
		<hr>
		<h3>Summary findings (so far)</h3>
		<ul>
			<li>Image data is stored as "FZI" (unknown) file format, of variable length, within the .DAT files. They possess accompanying 8-byte "CZI" (also unknown) files of the same 'name.' Unclear if this is a name assigned by GameExtractor upon read.</li>
			<li>VBinDiff reveals exactly 42 bytes appear to be the same across the beginning of each file, with minor 8 to 16 byte differences between them, and the file *always* beginning at the exact same point: 29h offset, or 41 offset decimal.</li>
		</ul>
		<h3>Updates</h3>
		<div class="incremental-update">
			<h4>First impressions - 12 Jan 2019 5:48 PM</h4>
			<p>I used <a href="https://sourceforge.net/projects/gameextractor/">GameExtractor</a> to retrieve the inner data of the .DAT files that SC3K uses to store its tiles.  I'll be focusing on the landscape tiles since those are predictable and simple, and have a known, well documented shape.</p>
			<p>Within these .DAT files are two file formats, which GameExtractor identifies as "close zoom image" (CZI) and "far zoom image" (FZI).  All of the CZI files are exactly <em>8 bytes long.</em>  All of the FZI files vary in length, but appear to have a 42 bytes, ending at byte 29h with a value of 0xF8 every time.</p>
		</div>
	</body>
</html>